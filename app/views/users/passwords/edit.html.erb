<div class="min-h-screen flex bg-[#080e1e]">

  <%= render "users/shared/hero_panel" %>

  <%# ─── Right panel: set new password form ────────────────────────────────── %>
  <div class="flex-1 flex flex-col justify-center px-8 sm:px-14 lg:px-20">
    <div class="w-full max-w-md mx-auto">

      <p class="text-[#6b8db3] text-sm mb-1">Almost there</p>
      <h1 class="text-white text-4xl font-bold mb-2">Set New Password</h1>
      <p class="text-[#6b8db3] text-sm mb-9">Choose a strong password for your account</p>

      <%= form_for(resource, as: resource_name, url: password_path(resource_name), html: { method: :put }) do |f| %>

        <%= render "users/shared/error_messages", action_label: "prevented this update" %>

        <%= f.hidden_field :reset_password_token %>

        <%# New password %>
        <div class="mb-5">
          <div class="flex items-baseline justify-between mb-2">
            <%= f.label :password, "New password", class: "text-[#7a93b4] text-sm" %>
            <% if @minimum_password_length %>
              <span class="text-[#4a6a8a] text-xs"><%= @minimum_password_length %> characters minimum</span>
            <% end %>
          </div>
          <div class="relative">
            <span class="absolute left-4 top-1/2 -translate-y-1/2 pointer-events-none">
              <svg class="w-4 h-4 text-[#4a6a8a]" fill="none" stroke="currentColor" stroke-width="1.8" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"/>
              </svg>
            </span>
            <%= f.password_field :password,
                  autofocus: true,
                  autocomplete: "new-password",
                  placeholder: "Enter new password",
                  class: "w-full bg-[#0d1f3e] border border-[#1e3563] text-white placeholder-[#3a5070] rounded-xl pl-11 pr-4 py-3.5 text-sm focus:outline-none focus:border-[#3060b0] focus:ring-1 focus:ring-[#3060b0] transition-colors" %>
          </div>
        </div>

        <%# Confirm new password %>
        <div class="mb-8">
          <%= f.label :password_confirmation, "Confirm new password", class: "block text-[#7a93b4] text-sm mb-2" %>
          <div class="relative">
            <span class="absolute left-4 top-1/2 -translate-y-1/2 pointer-events-none">
              <svg class="w-4 h-4 text-[#4a6a8a]" fill="none" stroke="currentColor" stroke-width="1.8" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"/>
              </svg>
            </span>
            <%= f.password_field :password_confirmation,
                  autocomplete: "new-password",
                  placeholder: "Repeat new password",
                  class: "w-full bg-[#0d1f3e] border border-[#1e3563] text-white placeholder-[#3a5070] rounded-xl pl-11 pr-4 py-3.5 text-sm focus:outline-none focus:border-[#3060b0] focus:ring-1 focus:ring-[#3060b0] transition-colors" %>
          </div>
        </div>

        <%= f.submit "Change my password",
              class: "w-full bg-[#0f1525] hover:bg-[#182038] text-white font-medium py-4 rounded-full border border-[#1e3060] transition-colors cursor-pointer text-sm tracking-wide" %>

      <% end %>

      <div class="mt-8 text-center">
        <%= link_to "Back to login", new_session_path(resource_name),
              class: "text-[#4a8ae0] text-sm hover:text-[#6aaaf8] transition-colors" %>
      </div>

    </div>
  </div>

</div>
